/* Dark Mode Styles */
@layer base {

  /* Base theme colors with CSS variables */
  :root {
    /* Light mode colors (default) */
    --color-bg-primary: #FAF6F2;
    --color-bg-secondary: #F5EDE4;
    --color-bg-tertiary: #E8D5C4;
    --color-text-primary: #2A2522;
    --color-text-secondary: #6B5637;
    --color-text-muted: #8B6F47;
    --color-border: #E8D5C4;
    --color-border-light: rgba(232, 213, 196, 0.5);
    --color-accent: #D4AF37;
    --color-accent-hover: #B8941F;
    --color-surface: #FFFFFF;
    --color-surface-hover: #FAF6F2;

    /* Component-specific colors */
    --color-input-bg: #FFFFFF;
    --color-input-border: #E8D5C4;
    --color-button-primary: #D4AF37;
    --color-button-secondary: #8B6F47;

    /* Original Westworld colors for reference */
    --color-westworld-cream: #FAF6F2;
    --color-westworld-beige: #F5EDE4;
    --color-westworld-tan: #E8D5C4;
    --color-westworld-brown: #8B6F47;
    --color-westworld-darkBrown: #6B5637;
    --color-westworld-nearBlack: #2A2522;
    --color-westworld-black: #1A1512;
    --color-westworld-gold: #D4AF37;
    --color-westworld-darkGold: #B8941F;
    --color-westworld-rust: #A85732;
    --color-westworld-copper: #C87543;
    --color-westworld-darkCopper: #A65E36;
    --color-westworld-white: #FFFFFF;

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  }

  /* Dark mode overrides */
  .dark {
    /* Dark mode colors - actual dark colors, not inverted */
    --color-bg-primary: #1A1512;
    --color-bg-secondary: #2A2522;
    --color-bg-tertiary: #3A3532;
    --color-text-primary: #FAF6F2;
    --color-text-secondary: #E8D5C4;
    --color-text-muted: #A68B6F;
    --color-border: #3A3532;
    --color-border-light: rgba(58, 53, 50, 0.5);
    --color-accent: #D4AF37;
    --color-accent-hover: #E4BF47;
    --color-surface: #2A2522;
    --color-surface-hover: #3A3532;

    /* Component-specific colors */
    --color-input-bg: #2A2522;
    --color-input-border: #3A3532;
    --color-button-primary: #D4AF37;
    --color-button-secondary: #3A3532;

    /* Adjusted shadows for dark mode */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6);
  }
}

@layer components {

  /* Apply base styles using CSS variables */
  body {
    @apply antialiased;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
  }

  /* Component styles using CSS variables */
  .research-container {
    @apply rounded-lg p-6;
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-md);
  }

  .input-bar {
    background-color: var(--color-bg-secondary);
    border-top: 1px solid var(--color-border);
  }

  .btn-primary {
    @apply px-4 py-2 rounded-md font-medium;
    background-color: var(--color-button-primary);
    color: var(--color-bg-primary);
    @apply hover:opacity-90 focus-visible:ring-2 focus-visible:ring-offset-2;
  }

  /* Input styles */
  input,
  textarea,
  select {
    background-color: var(--color-input-bg);
    border-color: var(--color-input-border);
    color: var(--color-text-primary);
    @apply focus:ring-2 focus:ring-westworld-gold focus:border-transparent;
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--color-text-muted);
  }

  /* Focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-westworld-gold ring-offset-2;
    ring-offset-color: var(--color-bg-primary);
  }

  /* Selection colors */
  ::selection {
    @apply bg-westworld-gold bg-opacity-30;
    color: var(--color-text-primary);
  }

  /* Theme toggle button styles */
  .theme-toggle {
    @apply relative w-14 h-7 rounded-full overflow-hidden;
    @apply bg-gray-300 dark:bg-gray-700;
    @apply transition-colors duration-300 ease-in-out;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    @apply focus-visible:ring-westworld-gold dark:focus-visible:ring-westworld-gold;
    @apply shadow-inner;
  }

  .theme-toggle-thumb {
    @apply absolute top-0.5 left-0.5 w-6 h-6 rounded-full;
    @apply bg-white dark:bg-gray-900;
    @apply transition-transform duration-300 ease-in-out;
    @apply transform translate-x-0 dark:translate-x-7;
    @apply shadow-md;
    @apply flex items-center justify-center;
  }

  .theme-toggle-thumb svg {
    @apply w-4 h-4;
    @apply text-yellow-500 dark:text-blue-400;
  }

  /* Smooth theme transitions */
  .theme-transition * {
    @apply transition-colors duration-300 ease-in-out !important;
  }

  /* Prevent FOUC (Flash of Unstyled Content) */
  html:not(.theme-transition) * {
    @apply transition-none !important;
  }

  /* Dark mode color adjustments - REMOVED confusing swaps */

  /* Dark mode base styles */
  .dark body {
    @apply bg-westworld-nearBlack text-westworld-cream;
  }

  /* Ensure proper contrast for dark mode */
  .dark .bg-theme-primary {
    @apply bg-westworld-nearBlack;
  }

  .dark .text-theme-primary {
    @apply text-westworld-cream;
  }

  .dark .border-theme-primary {
    @apply border-westworld-tan border-opacity-30;
  }

  /* Dark mode scrollbar */
  .dark ::-webkit-scrollbar-track {
    @apply bg-westworld-darkBrown;
  }

  .dark ::-webkit-scrollbar-thumb {
    @apply bg-westworld-tan hover:bg-westworld-gold;
  }

  /* Dark mode focus styles */
  .dark :focus-visible {
    @apply ring-westworld-gold ring-offset-westworld-nearBlack;
  }

  /* Dark mode selection */
  .dark ::selection {
    @apply bg-westworld-gold text-westworld-nearBlack;
  }
}

/* Component-specific dark mode fixes */
@layer components {
  /* Fix components identified in UI analysis */

  /* ErrorDisplay dark mode support */
  .dark .bg-red-50 {
    @apply bg-red-950;
  }

  .dark .text-red-800 {
    @apply text-red-200;
  }

  .dark .border-red-200 {
    @apply border-red-800;
  }

  /* SemanticSearch dark mode */
  .dark .bg-white {
    @apply bg-westworld-nearBlack;
  }

  /* SessionHistoryBrowser dark mode */
  .dark .bg-blue-50 {
    @apply bg-blue-950;
  }

  .dark .text-blue-700 {
    @apply text-blue-300;
  }

  /* ResearchView sidebar */
  .dark .bg-amber-50 {
    @apply bg-amber-950;
  }

  .dark .text-amber-700 {
    @apply text-amber-300;
  }
}

/* SessionHistoryBrowser dark mode */
.dark .bg-blue-50 {
  @apply bg-blue-950;
}

.dark .text-blue-700 {
  @apply text-blue-300;
}

/* ResearchView sidebar */
.dark .bg-amber-50 {
  @apply bg-amber-950;
}

.dark .text-amber-700 {
  @apply text-amber-300;
}
}
